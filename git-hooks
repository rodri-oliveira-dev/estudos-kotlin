import re
from urllib.parse import urlparse
import requests
from ping3 import ping, exceptions


def is_valid_url(url):
    try:
        result = urlparse(url)
        return all([result.scheme, result.netloc])
    except ValueError:
        return False


def ping_url(url):
    try:
        response = requests.get(url, timeout=5)
        if response.status_code == 200:
            return True
    except requests.exceptions.RequestException:
        return False


def main():
    text = input("Digite o texto: ")

    if is_valid_url(text):
        print("A URL é válida.")
        if ping_url(text):
            print("Ping bem-sucedido!")
        else:
            print("Ping falhou. A URL pode estar inacessível ou o servidor não está respondendo.")
    else:
        print("O texto não é uma URL válida.")


if __name__ == "__main__":
    main()
