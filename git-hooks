import software.amazon.awssdk.services.sqs.SqsClient
import software.amazon.awssdk.services.sts.StsClient
import software.amazon.awssdk.services.sts.model.AssumeRoleRequest

class SendNewNegocioTest {
    private val sqsClient: SqsClient

    init {
        val stsClient = StsClient.create()

        val assumeRoleRequest = AssumeRoleRequest.builder()
            .roleArn("arn:aws:iam::681943174786:role/DevOpsRole")
            .roleSessionName("newsession")
            .build()

        val stsCredentials = stsClient.assumeRole(assumeRoleRequest).credentials()
        
        sqsClient = SqsClient.builder()
            .credentialsProvider { stsCredentials }
            .build()

        // sqsClient = SqsClient.builder().region(Region.SA_EAST_1).build()
    }
}
